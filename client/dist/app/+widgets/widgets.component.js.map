{"version":3,"file":"widgets.component.js","sourceRoot":"","sources":["widgets.component.ts"],"names":[],"mappings":";;;;;;;;;;AAAA,qBAAkC,eAAe,CAAC,CAAA;AAElD,gCAA+B,oBAAoB,CAAC,CAAA;AACpD,kCAAuB,4BAA4B,CAAC,CAAA;AACpD,uBAAuB,kBAAkB,CAAC,CAAA;AAQ1C;IAKE,0BACU,cAA8B,EAC9B,MAAc;QADd,mBAAc,GAAd,cAAc,CAAgB;QAC9B,WAAM,GAAN,MAAM,CAAQ;QAJxB,WAAM,GAAG,IAAI,eAAM,CAAC;IAKjB,CAAC;IAEJ,mCAAQ,GAAR;QACE,IAAI,CAAC,UAAU,EAAE,CAAC;IACpB,CAAC;IAED,qCAAU,GAAV;QAAA,iBAEC;QADC,IAAI,CAAC,cAAc,CAAC,UAAU,EAAE,CAAC,IAAI,CAAC,UAAA,OAAO,IAAI,OAAA,KAAI,CAAC,OAAO,GAAG,OAAO,EAAtB,CAAsB,CAAC,CAAC;IAC3E,CAAC;IAED,qCAAU,GAAV,UAAW,MAAc;QACvB,IAAI,IAAI,GAAG,CAAC,QAAQ,EAAE,EAAE,EAAE,EAAE,MAAM,CAAC,EAAE,EAAE,CAAC,CAAC;QACzC,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;IAC7B,CAAC;IAED,oCAAS,GAAT;QAAA,iBAQC;QAPC,IAAI,CAAC,cAAc;aAChB,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC;aACjB,IAAI,CAAC,UAAA,MAAM;YACV,KAAI,CAAC,MAAM,GAAG,IAAI,eAAM,CAAC;YACzB,KAAI,CAAC,UAAU,EAAE,CAAC;QACpB,CAAC,CAAC;aACD,KAAK,CAAC,UAAA,KAAK,IAAI,OAAA,KAAI,CAAC,KAAK,GAAG,KAAK,EAAlB,CAAkB,CAAC,CAAC;IACxC,CAAC;IAED,iCAAM,GAAN,UAAO,MAAc,EAAE,KAAU;QAAjC,iBAQC;QAPC,KAAK,CAAC,eAAe,EAAE,CAAC;QACxB,IAAI,CAAC,cAAc;aAChB,MAAM,CAAC,MAAM,CAAC;aACd,IAAI,CAAC,UAAA,GAAG;YACP,KAAI,CAAC,OAAO,GAAG,KAAI,CAAC,OAAO,CAAC,MAAM,CAAC,UAAA,CAAC,IAAI,OAAA,CAAC,KAAK,MAAM,EAAZ,CAAY,CAAC,CAAC;QACxD,CAAC,CAAC;aACD,KAAK,CAAC,UAAA,KAAK,IAAI,OAAA,KAAI,CAAC,KAAK,GAAG,KAAK,EAAlB,CAAkB,CAAC,CAAC;IACxC,CAAC;IA/CH;QAAC,gBAAS,CAAC;YACT,QAAQ,EAAE,MAAM,CAAC,EAAE;YACnB,QAAQ,EAAE,aAAa;YACvB,WAAW,EAAE,wBAAwB;YACrC,SAAS,EAAE,CAAC,uBAAuB,CAAC;SACrC,CAAC;;wBAAA;IA4CF,uBAAC;AAAD,CAAC,AA3CD,IA2CC;AA3CY,wBAAgB,mBA2C5B,CAAA","sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { WidgetComponent } from '../+widget/';\nimport { WidgetsService } from '../widgets.service';\nimport { Router } from '@angular/router-deprecated';\nimport { Widget } from '../models/widget';\n\n@Component({\n  moduleId: module.id,\n  selector: 'app-widgets',\n  templateUrl: 'widgets.component.html',\n  styleUrls: ['widgets.component.css']\n})\nexport class WidgetsComponent implements OnInit {\n  widgets: Widget[];\n  error: any;\n  widget = new Widget;\n\n  constructor(\n    private widgetsService: WidgetsService,\n    private router: Router\n  ) {}\n\n  ngOnInit() {\n    this.getWidgets();\n  }\n\n  getWidgets() {\n    this.widgetsService.getWidgets().then(widgets => this.widgets = widgets);\n  }\n\n  gotoDetail(widget: Widget) {\n    let link = ['Widget', { id: widget.id }];\n    this.router.navigate(link);\n  }\n\n  addWidget() {\n    this.widgetsService\n      .save(this.widget)\n      .then(widget =>{\n        this.widget = new Widget;\n        this.getWidgets();\n      })\n      .catch(error => this.error = error);\n  }\n\n  delete(widget: Widget, event: any) {\n    event.stopPropagation();\n    this.widgetsService\n      .delete(widget)\n      .then(res => {\n        this.widgets = this.widgets.filter(w => w !== widget);\n      })\n      .catch(error => this.error = error);\n  }\n\n}\n"]}