{"version":3,"file":"widgets.component.js","sourceRoot":"","sources":["widgets.component.ts"],"names":[],"mappings":";;;;;;;;;;AAAA,qBAAkC,eAAe,CAAC,CAAA;AAElD,gCAA+B,oBAAoB,CAAC,CAAA;AACpD,kCAAuB,4BAA4B,CAAC,CAAA;AAQpD;IAME,0BACU,cAA8B,EAC9B,MAAc;QADd,mBAAc,GAAd,cAAc,CAAgB;QAC9B,WAAM,GAAN,MAAM,CAAQ;QAJxB,iBAAY,GAAG,KAAK,CAAC;IAKlB,CAAC;IAEJ,mCAAQ,GAAR;QACE,IAAI,CAAC,UAAU,EAAE,CAAC;IACpB,CAAC;IAED,qCAAU,GAAV;QAAA,iBAEC;QADC,IAAI,CAAC,cAAc,CAAC,UAAU,EAAE,CAAC,IAAI,CAAC,UAAA,OAAO,IAAI,OAAA,KAAI,CAAC,OAAO,GAAG,OAAO,EAAtB,CAAsB,CAAC,CAAC;IAC3E,CAAC;IAED,qCAAU,GAAV,UAAW,MAAuB;QAChC,IAAI,IAAI,GAAG,CAAC,QAAQ,EAAE,EAAE,EAAE,EAAE,MAAM,CAAC,EAAE,EAAE,CAAC,CAAC;QACzC,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;IAC7B,CAAC;IAED,oCAAS,GAAT;QACE,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;QACzB,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;IAC7B,CAAC;IAED,iCAAM,GAAN,UAAO,MAAuB,EAAE,KAAU;QAA1C,iBAQC;QAPC,KAAK,CAAC,eAAe,EAAE,CAAC;QACxB,IAAI,CAAC,cAAc;aAChB,MAAM,CAAC,MAAM,CAAC;aACd,IAAI,CAAC,UAAA,GAAG;YACP,KAAI,CAAC,OAAO,GAAG,KAAI,CAAC,OAAO,CAAC,MAAM,CAAC,UAAA,CAAC,IAAI,OAAA,CAAC,KAAK,MAAM,EAAZ,CAAY,CAAC,CAAC;QACxD,CAAC,CAAC;aACD,KAAK,CAAC,UAAA,KAAK,IAAI,OAAA,KAAI,CAAC,KAAK,GAAG,KAAK,EAAlB,CAAkB,CAAC,CAAC,CAAC,8BAA8B;IACvE,CAAC;IA3CH;QAAC,gBAAS,CAAC;YACT,QAAQ,EAAE,MAAM,CAAC,EAAE;YACnB,QAAQ,EAAE,aAAa;YACvB,WAAW,EAAE,wBAAwB;YACrC,SAAS,EAAE,CAAC,uBAAuB,CAAC;SACrC,CAAC;;wBAAA;IAwCF,uBAAC;AAAD,CAAC,AAvCD,IAuCC;AAvCY,wBAAgB,mBAuC5B,CAAA","sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { WidgetComponent } from '../+widget/';\nimport { WidgetsService } from '../widgets.service';\nimport { Router } from '@angular/router-deprecated';\n\n@Component({\n  moduleId: module.id,\n  selector: 'app-widgets',\n  templateUrl: 'widgets.component.html',\n  styleUrls: ['widgets.component.css']\n})\nexport class WidgetsComponent implements OnInit {\n  widgets: WidgetComponent[];\n  selectedWidget: WidgetComponent;\n  error: any;\n  addingWidget = false;\n\n  constructor(\n    private widgetsService: WidgetsService,\n    private router: Router\n  ) {}\n\n  ngOnInit() {\n    this.getWidgets();\n  }\n\n  getWidgets() {\n    this.widgetsService.getWidgets().then(widgets => this.widgets = widgets);\n  }\n\n  gotoDetail(widget: WidgetComponent) {\n    let link = ['Widget', { id: widget.id }];\n    this.router.navigate(link);\n  }\n\n  addWidget() {\n    this.addingWidget = true;\n    this.selectedWidget = null;\n  }\n\n  delete(widget: WidgetComponent, event: any) {\n    event.stopPropagation();\n    this.widgetsService\n      .delete(widget)\n      .then(res => {\n        this.widgets = this.widgets.filter(w => w !== widget);\n      })\n      .catch(error => this.error = error); // TODO: Display error message\n  }\n\n}\n"]}